(self.webpackChunksubatec=self.webpackChunksubatec||[]).push([[919],{52336:function(e,n,a){"use strict";var r=a(1413),t=a(29439),i=a(47313),s=a(16606),o=a(14747),u=a(35898),c=a(46417);n.Z=function(e){var n=e.data,a=e.heading,d=(e.buttonHeader,e.loading),l=(e.canSearch,e.getRowId),h=i.useState(""),f=(0,t.Z)(h,2),p=(f[0],f[1],i.useState(n)),j=(0,t.Z)(p,2),m=(j[0],j[1],i.useState(0)),x=(0,t.Z)(m,2),g=(x[0],x[1],i.useState(0)),b=(0,t.Z)(g,2);b[0],b[1];return d&&!n.length?(0,c.jsx)(s.Z,{}):(a=a.map((function(e){return(0,r.Z)({align:"center",flex:1,headerAlign:"center",sortable:!1},e)})),(0,c.jsx)("div",{style:{flexGrow:1},children:(0,c.jsx)(o._,{density:"comfortable",rows:n,columns:a,pagination:!0,getRowId:l,loading:d,pageSize:10,rowsPerPageOptions:[10],autoHeight:!0,disableColumnSelector:!0,disableSelectionOnClick:!0,disableColumnFilter:!0,disableColumnMenu:!0,components:{NoRowsOverlay:function(){return(0,c.jsx)(u.Z,{height:"100%",alignItems:"center",justifyContent:"center",children:"No se encontraron datos"})},NoResultsOverlay:function(){return(0,c.jsx)(u.Z,{height:"100%",alignItems:"center",justifyContent:"center",children:"Local filter returns no result"})}}})}))}},18559:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return B}});var r=a(1413),t=a(74165),i=a(15861),s=a(29439),o=a(69099),u=a(61113),c=a(47313),d=a(48058),l=a(95468),h=a(52690),f=a(52336),p=a(50638),j=a(26672),m=a(91068),x=a(71404),g=a(9019),b=a(15743),Z=a(82374),v=a.n(Z),w=a(40712),S=a(46417),C=function(e){var n,a=e.subasta,t=(0,w.E)().usuario,i=(0,h.Z)([],{url:"puja?userid=".concat(t.iduser,"&subastaid=").concat(a.idsubasta)}),o=(0,s.Z)(i,2),c=o[0],d=o[1],l=function(){return a.producto?(0,S.jsx)(b.Z,{display:"flex",justifyContent:"center",children:(0,S.jsx)("img",{src:x.PF+a.fotoSubasta,width:"100%",alt:""})}):a.paqueteBid?(0,S.jsx)(b.Z,{style:{background:a.paqueteBid.background,width:"75%",margin:"auto"},borderRadius:5,color:"#fff",padding:7,children:(0,S.jsxs)(u.Z,{variant:"h5",align:"center",children:["Paquete de bids: ",a.paqueteBid.cantidadBids," ",(0,S.jsx)("br",{}),"Bonus: ",a.paqueteBid.bonus]})}):null},p=function(e){var n=e.costopuja/100*e.cantidadBids;return x.zW.format(n||0).replace("$","")+" USD"},m=c.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{id:e.idpuja,fullname:e.user.nombres+" "+e.user.apellidos,precioTotal:p(e)})}));return(0,S.jsxs)(g.ZP,{item:!0,lg:a.producto?6:12,children:[(0,S.jsx)(l,{}),(0,S.jsx)(u.Z,{variant:"h5",align:"center",marginTop:2,children:a.titulo}),(0,S.jsx)(u.Z,{marginTop:1,children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("b",{children:"Fecha Finalizaci\xf3n:"})," ",v()(a.fechaFinalizacion).format("DD/MM/YYYY H:mm:ss")]})}),(0,S.jsx)(u.Z,{marginTop:1,children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("b",{children:"Fecha Inicio:"})," ",v()(a.fechaInicio).format("DD/MM/YYYY H:mm:ss")]})}),(0,S.jsx)(u.Z,{marginTop:1,children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("b",{children:"Precio subasta:"})," ",a.preciosubasta," USD"]})}),(0,S.jsx)(u.Z,{marginY:1,children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("b",{children:"Costo puja"})," ",x.zW.format(a.costopuja/100).replace("$","")," ","USD"]})}),a.winnerUserId===t.iduser&&null!==a&&void 0!==a&&null!==(n=a.producto)&&void 0!==n&&n.codigoTarjeta?(0,S.jsx)(u.Z,{marginY:1,children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("b",{children:"C\xf3digo Tarjeta:"})," ",a.producto.codigoTarjeta]})}):null,a.winnerUserId===t.iduser?(0,S.jsxs)(u.Z,{marginY:3,align:"center",fontWeight:600,variant:"h5",children:["Eres el ganador de esta subasta ",(0,S.jsx)(j.MtH,{})]}):null,(0,S.jsx)(f.Z,{loading:d,data:m,heading:[{field:"fullname",headerName:"Nombre de usuario"},{field:"cantidadBids",headerName:"Cantidad Bids"},{field:"precioTotal",headerName:"Precio"}]})]})},y=a(65476),k=function(e){var n=e.subasta;return n.paqueteBid?null:(0,S.jsx)(g.ZP,{item:!0,lg:6,children:(0,y.ZP)(n.producto.descripcion)})},I=function(e){return(0,S.jsxs)(g.ZP,{spacing:4,container:!0,children:[(0,S.jsx)(C,{subasta:e.subasta}),(0,S.jsx)(k,{subasta:e.subasta})]})},F=a(75503),T=function(e){var n=(0,l.d)(),a=((0,d.U)(),e.reclamo),r=(e.subastaid,c.useState(null!==a&&void 0!==a&&a.direccion?a.direccion:"")),t=(0,s.Z)(r,2),i=t[0],o=t[1];return c.useEffect((function(){a&&n.setTitulo("Reclamo del producto: "+a.subasta.titulo)}),[]),(0,S.jsxs)(c.Fragment,{children:[(0,S.jsx)(F.II,{value:i,onChange:function(e){return o(e.target.value)},placeholder:"Direcci\xf3n",label:"Direcci\xf3n de env\xedo"}),(0,S.jsx)(b.Z,{display:"flex",justifyContent:"center",children:(0,S.jsx)(F.OZ,{variant:"brand",style:{width:"90%",marginTop:"20px"},onClick:function(){},children:"Enviar"})})]})},B=function(e){var n=(0,l.d)().setModal,a=(0,d.U)().setLoader,c=(0,w.E)().usuario,g=(0,h.Z)([],{url:e.winnerUser?"puja/findSubastasGroup?userid".concat(c.iduser,"&winnerUserId=").concat(c.iduser):"puja/findSubastasGroup?userid".concat(c.iduser)}),b=(0,s.Z)(g,2),Z=b[0],v=b[1],C=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(r){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0,"Cargando subasta..."),e.next=4,(0,m.Z)("subastas/".concat(r));case 4:i=e.sent,n({content:(0,S.jsx)(I,{subasta:i.data}),bgHeader:"primary",titulo:i.data.titulo,position:"center",size:"xl"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,x.S3)(e.t0);case 11:return e.prev=11,a(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(r){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0,"Cargando subasta..."),e.next=4,(0,m.Z)("subastas-reclamos/"+r);case 4:i=e.sent,n({titulo:"Reclamo Premio Subasta",size:"md",bgHeader:"primary",content:(0,S.jsx)(T,{reclamo:i.data,subastaid:r})}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,x.S3)(e.t0);case 11:return e.prev=11,a(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(n){return e.apply(this,arguments)}}(),k=[{field:"id",headerName:"Subasta ID"},{field:"titulo",headerName:"T\xedtulo"},{field:"options",headerName:"Acciones",renderCell:function(e){return(0,S.jsxs)(F.hE,{children:[(0,S.jsx)(o.Z,{variant:"contained",color:"primary",onClick:function(){return C(e.row.idsubasta)},children:(0,S.jsx)(j.dSq,{})}),e.row.winnerUserId===c.iduser?(0,S.jsx)(o.Z,{variant:"contained",color:"warning",onClick:function(){return y(e.row.idsubasta)},children:(0,S.jsx)(j.MtH,{})}):null]})}}],B=Z.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{id:e.idsubasta})}));return(0,S.jsxs)(p.Z,{children:[(0,S.jsx)(u.Z,{variant:"h5",align:"center",marginBottom:4,children:e.winnerUser?"Historial de subastas ganadas":"Historial de Subastas"}),(0,S.jsx)(f.Z,{loading:v,data:B,heading:k})]})}},55382:function(){},72095:function(){},61219:function(){}}]);